@page
@using FrotiX.Repository.IRepository
@using Syncfusion.EJ2
@addTagHelper *, Syncfusion.EJ2
@model FrotiX.Models.Patrimonio

@inject IUnitOfWork _unitOfWork

@{
	@functions {
		public void OnGet()
		{
			FrotiX.Pages.Patrimonio.IndexModel.Initialize(_unitOfWork);
		}
	}

	ViewData["Title"] = "Patrimônios";
	ViewData["PageName"] = "patrimonio_index";
	ViewData["Heading"] = "<i class='fa-duotone fa-solid fa-print-magnifying-glass'></i> Cadastros: <span class='fw-300'>Patrimônios</span>";
	ViewData["Category1"] = "Cadastros";
	ViewData["PageIcon"] = "fa-regular fa-print-magnifying-glass";
}

@section HeadBlock {
}

<div class="row">
	<div class="col-xl-12">
		<div id="panel-1" class="panel">
			<div class="panel-container show">
				<!-- Adiciona espaçamento superior -->
				<div class="pt-4">
					<!-- Container para título e botão -->
					<div class="d-flex justify-content-between align-items-center px-3 mb-3">
						<h2 class="titulo-paginas mb-0">
							<i class="fa-duotone fa-solid fa-pallet-boxes"></i>
							Listagem de Patrimônios
						</h2>
						<a href="./Patrimonio/Upsert" class="btn btn-azul" data-ejtip="Adicionar novo patrimônio ao sistema">
							<i class="fa-duotone fa-file-plus icon-space icon-pulse"></i>
							Adicionar Patrimônio
						</a>
					</div>
					<!-- Linha divisória -->
					<div class="col-12" style="border-bottom:1px solid #325d88"></div>
				</div>

				<div class="panel-content">
					<div class="box-body">
						<br /><br />
						<div class="col-12 px-3">
							<label class="fw-bold">
								<i class="fa-duotone fa-solid fa-filter"></i>
								Escolha os filtros desejados para visualizar os Patrimônios:
							</label>
						</div>

						<br />

						<div class="col-12">
							<div class="form-group row">
								<div class="col-3">
									<ejs-dropdowntree id="ddtMarcaModelo"
													  placeholder="Selecione Marca/Modelo"
													  showCheckBox="true"
													  showClearButton="true"
													  treeSettings="@(new Syncfusion.EJ2.DropDowns.DropDownTreeTreeSettings { AutoCheck = true })">
										<e-dropdowntree-fields dataSource="new List<object>()" text="text" value="value" parentValue="parentValue" hasChildren="hasChildren"></e-dropdowntree-fields>
									</ejs-dropdowntree>
								</div>
								<div class="col-3">
									<ejs-dropdowntree id="ddtSetorSecao"
													  placeholder="Selecione Setor/Seção"
													  showCheckBox="true"
													  showClearButton="true"
													  treeSettings="@(new Syncfusion.EJ2.DropDowns.DropDownTreeTreeSettings { AutoCheck = true })">
										<e-dropdowntree-fields dataSource="new List<object>()" text="text" value="value" parentValue="parentValue" hasChildren="hasChildren"></e-dropdowntree-fields>
									</ejs-dropdowntree>
								</div>
								<div class="col-3">
									<ejs-combobox id="cmbSituacao"
												  placeholder="Selecione uma Situação"
												  allowFiltering="true"
												  filterType="Contains"
												  popupHeight="250px"
												  width="100%"
												  showClearButton="true">
										<e-combobox-fields></e-combobox-fields>
									</ejs-combobox>
								</div>
								<div class="col-3 d-flex align-items-end">
									<a class="btn btn-marrom text-white w-100"
									   id="btnFiltrarPatrimonios"
									   data-ejtip="Filtrar os Patrimônios!"
									   style="cursor:pointer;">
										<i class="fa-duotone fa-solid fa-filter"></i>
										Filtrar Patrimônios
									</a>
								</div>
							</div>
							<br />
						</div>

						<br /><br />
						<table id="tblPatrimonio" class="table table-bordered table-striped" width="100%">
							<thead>
								<tr>
									<th>NPR</th>
									<th>Marca</th>
									<th>Modelo</th>
									<th>Descrição</th>
									<th>Setor Atual</th>
									<th>Seção Atual</th>
									<th>Situação</th>
									<th>Ações</th>
								</tr>
							</thead>
							<tbody>
							</tbody>
						</table>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>

@section ScriptsBlock {
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" crossorigin="anonymous" />
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>

	<script src="~/js/cadastros/patrimonio.js" asp-append-version="true"></script>
}
