@page
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@model FrotiX.Pages.Veiculo.UpsertModel

@{
    ViewData["Title"] = "Veículos";
    ViewData["PageName"] = "veiculo_upsert";
    ViewData["Heading"] = "<i class='fa-duotone fa-car-bus'></i> Cadastros: <span class='fw-300'>Veículos</span>";
    ViewData["Category1"] = "Cadastros";
    ViewData["PageIcon"] = "fa-duotone fa-car-bus";

    var isEdit = Model.VeiculoObj.Veiculo.VeiculoId != Guid.Empty;
    var temCRLV = Model.VeiculoObj.Veiculo.CRLV != null && Model.VeiculoObj.Veiculo.CRLV.Length > 0;
}

@section HeadBlock {
    <style>
/* ======== OUTLINE BRANCO NO BOTÃO DO HEADER (Padrão FrotiX) ======== */
		.ftx-card-header .btn-fundo-laranja {
			outline: 2px solid rgba(255, 255, 255, 0.5) !important;
			outline-offset: 1px;
			transition: all 0.2s ease;
		}

		.ftx-card-header .btn-fundo-laranja:hover {
			outline: 2px solid rgba(255, 255, 255, 0.8) !important;
			outline-offset: 2px;
		}

        /* ====== HEADER AZUL PADRÃO FROTIX ====== */
        .ftx-card-header {
            background: linear-gradient(135deg, #1e3a5f 0%, #2d5a87 50%, #3d7ab5 100%);
            padding: 1.25rem 1.5rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: 1rem;
            border-radius: 8px 8px 0 0;
            position: relative;
            overflow: hidden;
        }

        .ftx-card-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
            animation: shimmer 3s infinite;
        }

        @@keyframes shimmer {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        .ftx-card-header .titulo-paginas {
            color: #fff !important;
            text-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
            position: relative;
            z-index: 1;
        }

        /* Ícone do header: cores definidas no frotix.css global */
        .ftx-card-header .titulo-paginas i.fa-duotone {
            filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3));
        }

        .ftx-card-actions {
            position: relative;
            z-index: 1;
        }

        /* ====== BOTÃO VOLTAR LARANJA ====== */
        .ftx-card-header .btn-voltar {
            background: #e67333;
            color: #fff !important;
            border: 2px solid rgba(255, 255, 255, 0.5);
            padding: 0.5rem 1rem;
            border-radius: 6px;
            font-weight: 600;
            font-size: 0.875rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: all 0.2s ease;
            text-decoration: none;
            box-shadow: 0 2px 6px rgba(230, 115, 51, 0.3);
        }

        .ftx-card-header .btn-voltar:hover {
            background: #ff8c42;
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(230, 115, 51, 0.4);
            color: #fff !important;
        }

        .ftx-card-header .btn-voltar i {
            --fa-primary-color: #fff;
            --fa-secondary-color: rgba(255, 255, 255, 0.7);
        }

        /* ====== CARD INTERNO DE SEÇÕES ====== */
        .ftx-inner-card {
            background: #fff;
            border: 1px solid #e2e8f0;
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
            overflow: hidden;
            margin-bottom: 1.25rem;
        }

        .ftx-inner-card-header {
            background: linear-gradient(135deg, #f8fafc 0%, #edf2f7 100%);
            padding: 0.875rem 1.25rem;
            font-weight: 600;
            font-size: 0.95rem;
            color: #3D5771;
            border-bottom: 1px solid #e2e8f0;
            display: flex;
            align-items: center;
            gap: 0.625rem;
        }

        .ftx-inner-card-header i {
            font-size: 1.1rem;
            --fa-primary-color: #3D5771;
            --fa-secondary-color: #6B8CAE;
            --fa-secondary-opacity: 0.7;
        }

        .ftx-inner-card-body {
            padding: 1.25rem;
            background: #fff;
        }

        /* ====== LABELS PADRÃO ====== */
        .ftx-label {
            font-weight: 600;
            font-size: 0.85rem;
            color: #4a5568;
            margin-bottom: 0.375rem;
            display: flex;
            align-items: center;
            gap: 0.375rem;
        }

        .ftx-label i {
            font-size: 0.9rem;
        }

        /* ====== FORM CONTROLS ====== */
        .form-control-xs {
            min-height: 2.25rem;
            padding: 0.4rem 0.6rem;
            font-size: 0.9rem;
        }

        .form-group {
            margin-bottom: 0;
        }

        /* ====== CHECKBOXES ESTILIZADOS ====== */
        .ftx-checkbox-card {
            background: #f8fafc;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            padding: 1rem;
            transition: all 0.2s ease;
        }

        .ftx-checkbox-card:hover {
            background: #edf2f7;
            border-color: #cbd5e0;
        }

        .ftx-checkbox-card .form-check-input:checked ~ .form-check-label {
            color: #2d5a87;
            font-weight: 600;
        }

        /* ====== BOTÕES DE AÇÃO ====== */
        .ftx-btn-group {
            display: flex;
            gap: 1rem;
            margin-top: 1.5rem;
        }

        .ftx-btn-group .btn {
            flex: 1;
            padding: 0.75rem 1.5rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }

        /* ====== FOOTER INFO ====== */
        .ftx-footer-info {
            background: #f8fafc;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            padding: 0.75rem 1rem;
            margin-top: 1rem;
            font-size: 0.85rem;
            color: #718096;
        }

        .ftx-footer-info i {
            color: #a0aec0;
        }

        /* ====== UPLOAD CRLV ====== */
        .ftx-upload-wrapper {
            display: flex;
            align-items: center;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .ftx-upload-info {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            background: linear-gradient(135deg, #d4edda 0%, #c3e6cb 100%);
            border: 1px solid #28a745;
            border-radius: 6px;
            font-size: 0.85rem;
            color: #155724;
            font-weight: 500;
        }

        .ftx-upload-info i {
            color: #28a745;
        }

        .ftx-upload-info.novo-arquivo {
            background: linear-gradient(135deg, #cce5ff 0%, #b8daff 100%);
            border-color: #007bff;
            color: #004085;
        }

        .ftx-upload-info.novo-arquivo i {
            color: #007bff;
        }

        .ftx-upload-nome {
            max-width: 200px;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }

        .ftx-upload-remover {
            cursor: pointer;
            opacity: 0.7;
            transition: opacity 0.2s;
        }

        .ftx-upload-remover:hover {
            opacity: 1;
        }
    </style>
}

<form method="post" enctype="multipart/form-data">
    <div class="row">
        <div class="col-xl-12">
            <div class="panel">
                <div class="panel-container show">

                    <!-- HEADER AZUL PADRÃO FROTIX -->
                    <div class="ftx-card-header">
                        <h2 class="titulo-paginas">
                            <i class="fa-duotone fa-car-bus"></i>
                            @(isEdit ? "Atualizar" : "Criar") Veículo
                        </h2>
                        <div class="ftx-card-actions">
                            <a href="/Veiculo/Index" class="btn btn-header-orange">
                                <i class="fa-duotone fa-rotate-left icon-space icon-rotate-left"></i> Voltar à Lista
                            </a>
                        </div>
                    </div>

                    <!-- CONTEÚDO -->
                    <div class="panel-content">
                        <div asp-validation-summary="ModelOnly" class="text-danger"></div>

                        @if (isEdit)
                        {
                            <input type="hidden" asp-for="VeiculoObj.Veiculo.VeiculoId" />
                        }
                        <input type="hidden" asp-for="VeiculoObj.Veiculo.UsuarioIdAlteracao" />

                        <!-- SEÇÃO 1: IDENTIFICAÇÃO DO VEÍCULO -->
                        <div class="ftx-inner-card">
                            <div class="ftx-inner-card-header">
                                <i class="fa-duotone fa-id-card"></i>
                                Identificação do Veículo
                            </div>
                            <div class="ftx-inner-card-body">
                                <div class="row g-3">
                                    <div class="col-12 col-md-3">
                                        <div class="form-group">
                                            <label class="ftx-label">
                                                <i class="fa-duotone fa-industry text-primary"></i>
                                                Marca
                                            </label>
                                            <span class="text-danger" asp-validation-for="VeiculoObj.Veiculo.MarcaId"></span>
                                            @Html.DropDownListFor(
                                                m => m.VeiculoObj.Veiculo.MarcaId,
                                                Model.VeiculoObj.MarcaList,
                                                "-- Selecione uma Marca --",
                                                new { @class = "form-control form-control-xs", @id = "listamarca" }
                                            )
                                        </div>
                                    </div>

                                    <div class="col-12 col-md-3">
                                        <div class="form-group">
                                            <label class="ftx-label">
                                                <i class="fa-duotone fa-car-side text-info"></i>
                                                Modelo
                                            </label>
                                            <span class="text-danger" asp-validation-for="VeiculoObj.Veiculo.ModeloId"></span>
                                            @Html.Hidden("Veiculo_ModeloId", Model.VeiculoObj.Veiculo.ModeloId)
                                            <select id="ModeloId" name="VeiculoObj.Veiculo.ModeloId" class="form-control form-control-xs">
                                                <option value="">-- Selecione um Modelo --</option>
                                            </select>
                                        </div>
                                    </div>

                                    <div class="col-12 col-md-2">
                                        <div class="form-group">
                                            <label class="ftx-label">
                                                <i class="fa-duotone fa-rectangle-barcode text-success"></i>
                                                Placa
                                            </label>
                                            <span class="text-danger" asp-validation-for="VeiculoObj.Veiculo.Placa"></span>
                                            <input id="txtPlaca" class="form-control form-control-xs" asp-for="VeiculoObj.Veiculo.Placa" />
                                        </div>
                                    </div>

                                    <div class="col-12 col-md-2">
                                        <div class="form-group">
                                            <label class="ftx-label">
                                                <i class="fa-duotone fa-gauge-high text-warning"></i>
                                                Quilometragem
                                            </label>
                                            <span class="text-danger" asp-validation-for="VeiculoObj.Veiculo.Quilometragem"></span>
                                            <input class="form-control form-control-xs" asp-for="VeiculoObj.Veiculo.Quilometragem" />
                                        </div>
                                    </div>

                                    <div class="col-12 col-md-2">
                                        <div class="form-group">
                                            <label class="ftx-label">
                                                <i class="fa-duotone fa-chart-line text-secondary"></i>
                                                Consumo
                                            </label>
                                            <span class="text-danger" asp-validation-for="VeiculoObj.Veiculo.Consumo"></span>
                                            <input class="form-control form-control-xs" asp-for="VeiculoObj.Veiculo.Consumo" readonly />
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- SEÇÃO 2: DOCUMENTAÇÃO -->
                        <div class="ftx-inner-card">
                            <div class="ftx-inner-card-header">
                                <i class="fa-duotone fa-file-certificate"></i>
                                Documentação
                            </div>
                            <div class="ftx-inner-card-body">
                                <div class="row g-3">
                                    <div class="col-12 col-md-3">
                                        <div class="form-group">
                                            <label class="ftx-label">
                                                <i class="fa-duotone fa-hashtag text-primary"></i>
                                                Renavam
                                            </label>
                                            <span class="text-danger" asp-validation-for="VeiculoObj.Veiculo.Renavam"></span>
                                            <input class="form-control form-control-xs" asp-for="VeiculoObj.Veiculo.Renavam" />
                                        </div>
                                    </div>

                                    <div class="col-12 col-md-2">
                                        <div class="form-group">
                                            <label class="ftx-label">
                                                <i class="fa-duotone fa-link text-info"></i>
                                                Placa Vinculada
                                            </label>
                                            <span class="text-danger" asp-validation-for="VeiculoObj.Veiculo.PlacaVinculada"></span>
                                            <input class="form-control form-control-xs" asp-for="VeiculoObj.Veiculo.PlacaVinculada" />
                                        </div>
                                    </div>

                                    <div class="col-12 col-md-3">
                                        <div class="form-group">
                                            <label class="ftx-label">
                                                <i class="fa-duotone fa-medal text-warning"></i>
                                                Placa de Bronze
                                            </label>
                                            <span class="text-danger" asp-validation-for="VeiculoObj.Veiculo.PlacaBronzeId"></span>
                                            @Html.DropDownListFor(
                                                m => m.VeiculoObj.Veiculo.PlacaBronzeId,
                                                Model.VeiculoObj.PlacaBronzeList,
                                                "-- Selecione uma Placa de Bronze --",
                                                new { @class = "form-control form-control-xs" }
                                            )
                                        </div>
                                    </div>

                                    <div class="col-12 col-md-2">
                                        <div class="form-group">
                                            <label class="ftx-label">
                                                <i class="fa-duotone fa-calendar-alt text-success"></i>
                                                Ano Fabricação
                                            </label>
                                            <span class="text-danger" asp-validation-for="VeiculoObj.Veiculo.AnoFabricacao"></span>
                                            <select class="form-control form-control-xs" asp-for="VeiculoObj.Veiculo.AnoFabricacao">
                                                <option value="">-- Ano --</option>
                                                @for (int ano = 2026; ano >= 2003; ano--)
                                                {
                                                    <option value="@ano">@ano</option>
                                                }
                                            </select>
                                        </div>
                                    </div>

                                    <div class="col-12 col-md-2">
                                        <div class="form-group">
                                            <label class="ftx-label">
                                                <i class="fa-duotone fa-calendar-check text-secondary"></i>
                                                Ano Modelo
                                            </label>
                                            <span class="text-danger" asp-validation-for="VeiculoObj.Veiculo.AnoModelo"></span>
                                            <select class="form-control form-control-xs" asp-for="VeiculoObj.Veiculo.AnoModelo">
                                                <option value="">-- Ano --</option>
                                                @for (int ano = 2026; ano >= 2003; ano--)
                                                {
                                                    <option value="@ano">@ano</option>
                                                }
                                            </select>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- SEÇÃO 3: UNIDADE E CLASSIFICAÇÃO -->
                        <div class="ftx-inner-card">
                            <div class="ftx-inner-card-header">
                                <i class="fa-duotone fa-building"></i>
                                Unidade e Classificação
                            </div>
                            <div class="ftx-inner-card-body">
                                <div class="row g-3">
                                    <div class="col-12 col-md-3">
                                        <div class="form-group">
                                            <label class="ftx-label">
                                                <i class="fa-duotone fa-building text-primary"></i>
                                                Unidade
                                            </label>
                                            <span class="text-danger" asp-validation-for="VeiculoObj.Veiculo.UnidadeId"></span>
                                            @Html.DropDownListFor(
                                                m => m.VeiculoObj.Veiculo.UnidadeId,
                                                Model.VeiculoObj.UnidadeList,
                                                "-- Selecione uma Unidade --",
                                                new { @class = "form-control form-control-xs" }
                                            )
                                        </div>
                                    </div>

                                    <div class="col-12 col-md-2">
                                        <div class="form-group">
                                            <label class="ftx-label">
                                                <i class="fa-duotone fa-gas-pump text-warning"></i>
                                                Combustível
                                            </label>
                                            <span class="text-danger" asp-validation-for="VeiculoObj.Veiculo.CombustivelId"></span>
                                            @Html.DropDownListFor(
                                                m => m.VeiculoObj.Veiculo.CombustivelId,
                                                Model.VeiculoObj.CombustivelList,
                                                "-- Combustível --",
                                                new { @class = "form-control form-control-xs" }
                                            )
                                        </div>
                                    </div>

                                    <div class="col-12 col-md-3">
                                        <div class="form-group">
                                            <label class="ftx-label">
                                                <i class="fa-duotone fa-tags text-info"></i>
                                                Categoria
                                            </label>
                                            <span class="text-danger" asp-validation-for="VeiculoObj.Veiculo.Categoria"></span>
                                            <select class="form-control form-control-xs" asp-for="VeiculoObj.Veiculo.Categoria">
                                                <option value="">-- Categoria --</option>
                                                <option value="Ônibus">Ônibus</option>
                                                <option value="Coletivos Pequenos">Coletivos Pequenos</option>
                                                <option value="Carga Leve">Carga Leve</option>
                                                <option value="Carga Pesada">Carga Pesada</option>
                                                <option value="Passeio">Passeio</option>
                                                <option value="Mesa">Mesa</option>
                                                <option value="Ambulância">Ambulância</option>
                                                <option value="Depol">Depol</option>
                                            </select>
                                        </div>
                                    </div>

                                    <div class="col-12 col-md-2">
                                        <div class="form-group">
                                            <label class="ftx-label">
                                                <i class="fa-duotone fa-calendar-day text-success"></i>
                                                Data Ingresso
                                            </label>
                                            <span class="text-danger" asp-validation-for="VeiculoObj.Veiculo.DataIngresso"></span>
                                            <input id="txtDataChegada" class="form-control form-control-xs" asp-for="VeiculoObj.Veiculo.DataIngresso" type="date" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- SEÇÃO 4: ORIGEM DO VEÍCULO -->
                        <div class="ftx-inner-card">
                            <div class="ftx-inner-card-header">
                                <i class="fa-duotone fa-file-contract"></i>
                                Origem do Veículo
                            </div>
                            <div class="ftx-inner-card-body">
                                <div class="row g-3">
                                    <div class="col-12 col-md-3">
                                        <div class="form-group">
                                            <label id="lblcontrato" class="ftx-label">
                                                <i class="fa-duotone fa-file-signature text-primary"></i>
                                                Contrato
                                            </label>
                                            <span class="text-danger" asp-validation-for="VeiculoObj.Veiculo.ContratoId"></span>
                                            @Html.DropDownListFor(
                                                m => m.VeiculoObj.Veiculo.ContratoId,
                                                Model.VeiculoObj.ContratoList,
                                                "-- Selecione um Contrato --",
                                                new { @class = "form-control form-control-xs", @id = "lstcontratos", @style = "width:140%;" }
                                            )
                                        </div>
                                    </div>

                                    <div class="col-12 col-md-3" style="margin-left:100px;">
                                        <div class="form-group">
                                            <label id="lblata" class="ftx-label">
                                                <i class="fa-duotone fa-file-alt text-info"></i>
                                                Ata de Registro
                                            </label>
                                            <span class="text-danger" asp-validation-for="VeiculoObj.Veiculo.AtaId"></span>
                                            @Html.DropDownListFor(
                                                m => m.VeiculoObj.Veiculo.AtaId,
                                                Model.VeiculoObj.AtaList,
                                                "-- Selecione uma Ata --",
                                                new { @class = "form-control form-control-xs", @id = "lstatas" }
                                            )
                                        </div>
                                    </div>

                                    <div class="col-12 col-md-3" style="margin-left:40px;">
                                        <div class="form-group">
                                            <label id="lblItemContrato" class="ftx-label">
                                                <i class="fa-duotone fa-list-ol text-warning"></i>
                                                Item Contratual
                                            </label>
                                            <span class="text-danger" asp-validation-for="VeiculoObj.Veiculo.ItemVeiculoId"></span>
                                            @Html.Hidden("Veiculo_ItemId", Model.VeiculoObj.Veiculo.ItemVeiculoId)
                                            <select id="lstItemVeiculo" name="VeiculoObj.Veiculo.ItemVeiculoId" class="form-control form-control-xs" style="width:150%;">
                                                <option value="">-- Selecione um Item Contratual --</option>
                                            </select>

                                            <label id="lblItemAta" class="ftx-label" style="display:none;">
                                                <i class="fa-duotone fa-list-ol text-warning"></i>
                                                Item da Ata
                                            </label>
                                            <span class="text-danger" asp-validation-for="VeiculoObj.Veiculo.ItemVeiculoAtaId"></span>
                                            @Html.Hidden("Veiculo_ItemAtaId", Model.VeiculoObj.Veiculo.ItemVeiculoAtaId)
                                            <select id="lstItemVeiculoAta" name="VeiculoObj.Veiculo.ItemVeiculoAtaId" class="form-control form-control-xs" style="width:150%; display:none;">
                                                <option value="">-- Selecione um Item da Ata --</option>
                                            </select>
                                        </div>
                                    </div>

                                    <div class="col-12 col-md-3" style="margin-left:90px;">
                                        <div class="form-group" id="divPatrimonio" style="display: none;">
                                            <label class="ftx-label">
                                                <i class="fa-duotone fa-barcode text-success"></i>
                                                Patrimônio
                                            </label>
                                            <input id="txtPatrimonio" class="form-control form-control-xs" asp-for="VeiculoObj.Veiculo.Patrimonio" />
                                        </div>
                                    </div>
                                </div>

                                <!-- UPLOAD CRLV -->
                                <div class="row mt-3">
                                    <div class="col-12">
                                        <div class="ftx-upload-wrapper">
                                            <!-- Input file oculto -->
                                            <input type="file" 
                                                   id="inputCRLV" 
                                                   name="ArquivoCRLV" 
                                                   accept=".pdf,.jpg,.jpeg,.png"
                                                   style="display: none;" />
                                            
                                            <!-- Botão de upload -->
                                            <button type="button" 
                                                    id="btnUploadCRLV" 
                                                    class="btn btn-fundo-laranja">
                                                <i class="fa-duotone fa-file-upload me-1"></i> 
                                                <span id="txtBtnCRLV">@(temCRLV ? "Substituir CRLV" : "Upload do CRLV")</span>
                                            </button>

                                            <!-- Indicador de arquivo existente -->
                                            @if (temCRLV)
                                            {
                                                <div id="infoCRLVExistente" class="ftx-upload-info">
                                                    <i class="fa-duotone fa-file-check"></i>
                                                    <span>CRLV já cadastrado</span>
                                                </div>
                                            }

                                            <!-- Indicador de novo arquivo selecionado -->
                                            <div id="infoCRLVNovo" class="ftx-upload-info novo-arquivo" style="display: none;">
                                                <i class="fa-duotone fa-file-arrow-up"></i>
                                                <span id="nomeCRLVNovo" class="ftx-upload-nome"></span>
                                                <i class="fa-duotone fa-circle-xmark ftx-upload-remover" 
                                                   id="btnRemoverCRLV" 
                                                   title="Remover arquivo"></i>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- SEÇÃO 5: CONFIGURAÇÕES -->
                        <div class="ftx-inner-card">
                            <div class="ftx-inner-card-header">
                                <i class="fa-duotone fa-sliders"></i>
                                Configurações
                            </div>
                            <div class="ftx-inner-card-body">
                                <div class="row g-3">
                                    <div class="col-12 col-md-3">
                                        <div class="ftx-checkbox-card">
                                            <div class="form-check">
                                                <input type="checkbox" class="form-check-input" id="chkVeiculoProprio" asp-for="VeiculoObj.Veiculo.VeiculoProprio" />
                                                <label class="form-check-label" for="chkVeiculoProprio">
                                                    <i class="fa-duotone fa-house-user me-1 text-primary"></i>
                                                    Veículo Próprio
                                                </label>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-12 col-md-3">
                                        <div class="ftx-checkbox-card">
                                            <div class="form-check">
                                                <input type="checkbox" class="form-check-input" id="chkStatus" asp-for="VeiculoObj.Veiculo.Status" />
                                                <label class="form-check-label" for="chkStatus">
                                                    <i class="fa-duotone fa-toggle-on me-1 text-success"></i>
                                                    Ativo/Inativo
                                                </label>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-12 col-md-3">
                                        <div class="ftx-checkbox-card">
                                            <div class="form-check">
                                                <input type="checkbox" class="form-check-input" id="chkReserva" asp-for="VeiculoObj.Veiculo.Reserva" />
                                                <label class="form-check-label" for="chkReserva">
                                                    <i class="fa-duotone fa-car-garage me-1 text-warning"></i>
                                                    Veículo Reserva
                                                </label>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-12 col-md-3">
                                        <div class="ftx-checkbox-card">
                                            <div class="form-check">
                                                <input type="checkbox" class="form-check-input" id="chkEconomildo" asp-for="VeiculoObj.Veiculo.Economildo" />
                                                <label class="form-check-label" for="chkEconomildo">
                                                    <i class="fa-duotone fa-leaf me-1 text-info"></i>
                                                    Veículo de Economildo
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- FOOTER INFO (se edição) -->
                        @if (isEdit)
                        {
                            <div class="ftx-footer-info">
                                <i class="fa-duotone fa-clock-rotate-left me-1"></i>
                                Alterado/Incluído por <strong>@Model.VeiculoObj.NomeUsuarioAlteracao</strong>
                                em <strong>@Model.VeiculoObj.Veiculo.DataAlteracao?.ToString("dd/MM/yy")</strong>
                                às <strong>@Model.VeiculoObj.Veiculo.DataAlteracao?.ToString("HH:mm")</strong>
                            </div>
                        }

                        <!-- BOTÕES DE AÇÃO -->
                        <div class="ftx-btn-group">
                            @if (isEdit)
                            {
                                <button type="submit"
                                        asp-page-handler="Edit"
                                        asp-route-id="@Model.VeiculoObj.Veiculo.VeiculoId"
                                        class="btn btn-azul btn-submit-spin">
                                    <i class="fa-duotone fa-floppy-disk icon-space icon-pulse"></i> Atualizar Veículo
                                </button>
                            }
                            else
                            {
                                <button type="submit"
                                        asp-page-handler="Submit"
                                        class="btn btn-azul btn-submit-spin">
                                    <i class="fa-duotone fa-floppy-disk icon-space icon-pulse"></i> Criar Veículo
                                </button>
                            }
                            <a asp-page="./Index" class="btn btn-ftx-fechar">
                                <i class="fa-duotone fa-circle-xmark icon-space icon-pulse"></i> Cancelar Operação
                            </a>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</form>

@section ScriptsBlock {
    <script src="~/js/cadastros/veiculo_upsert.js" asp-append-version="true"></script>
}
